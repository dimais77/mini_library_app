# **Library Management System**

## **Описание**
Library Management System — это консольное приложение для управления библиотекой книг. С его помощью можно добавлять, удалять, искать книги, изменять их статус и просматривать список всех книг. Все данные хранятся в формате JSON для удобного использования и долговременного хранения. Конфигурация приложения настраивается через файл `config.json`.

---

## **Конфигурационный файл `config.json`**

Файл `config.json` используется для настройки приложения. Ниже приведена структура и описание его параметров:

```json
{
  "data_file": "library.json",
  "book_statuses": {
    "STATUS_AVAILABLE": "в наличии",
    "STATUS_BORROWED": "выдана",
    "STATUS_BOOKED": "забронирована"
  },
  "search_fields": [
    "title",
    "author",
    "year"
  ]
}
```

### **Параметры:**
1. **`data_file`**  
   Указывает путь к файлу, в котором хранятся данные о книгах.  
   Пример: `"library.json"`

2. **`book_statuses`**  
   Содержит перечень возможных статусов книг и их текстовые значения:  
   - `"STATUS_AVAILABLE"`: `"в наличии"` — книга доступна.  
   - `"STATUS_BORROWED"`: `"выдана"` — книга временно выдана читателю.  
   - `"STATUS_BOOKED"`: `"забронирована"` — книга зарезервирована.  
   Вы можете добавлять или изменять статусы по необходимости.

3. **`search_fields`**  
   Указывает поля, по которым возможен поиск книг.  
   По умолчанию доступен поиск по следующим полям:
   - `"title"`: название книги.
   - `"author"`: автор книги.
   - `"year"`: год издания книги.

---

## **Функциональность**

### Для класса `Book`:
- Автоматическое создание уникального `id` для каждой книги.
- Поля:
  - `title` — название книги.
  - `author` — автор книги.
  - `year` — год издания книги.
  - `status` — статус книги (по умолчанию `"в наличии"`, настраивается в `config.json`).
- Методы:
  - `to_dict()` — преобразует объект книги в словарь.
  - `from_dict(data)` — создает объект книги из словаря.

### Для класса `Library`:
- Загрузка и сохранение книг в JSON-файле, указанном в `config.json`.
- Возможность добавлять, удалять и искать книги по критериям из `search_fields`.
- Просмотр всех книг в библиотеке.
- Обновление статуса книги (например, `"выдана"` или `"в наличии"`).

### Для класса `Storage`:
- Чтение данных из файла (`load_data()`).
- Сохранение данных в файл (`save_data()`).

---

## **Требования**
- Python 3.12+
- Библиотека `json` (встроенная в стандартную библиотеку Python).

---

## **Установка и запуск**

### 1. Клонируйте репозиторий
```bash
git clone git@github.com:dimais77/mini_library_app.git
cd mini_library_app
```

### 2. Убедитесь, что Python установлен
```bash
python --version
```

### 3. Настройте файл конфигурации
Создайте или отредактируйте файл `config.json` в корне проекта:
```json
{
  "data_file": "library.json",
  "book_statuses": {
    "STATUS_AVAILABLE": "в наличии",
    "STATUS_BORROWED": "выдана",
    "STATUS_BOOKED": "забронирована"
  },
  "search_fields": ["title", "author", "year"]
}
```

### 4. Запустите приложение
```bash
python main.py
```

---

## **Как использовать**

1. При запуске приложения откроется меню:
   ```
   --- Меню ---
   1. Добавить книгу
   2. Удалить книгу
   3. Поиск книг
   4. Изменить статус книги
   5. Показать все книги
   6. Выход
   ```
2. Выберите номер действия и следуйте инструкциям на экране.

---

## **Пример JSON-файла `library.json`**
```json
[
  {
    "id": 1,
    "title": "Питон",
    "author": "Путин",
    "year": 2024,
    "status": "в наличии"
  },
  {
    "id": 2,
    "title": "Python",
    "author": "Putin",
    "year": 2024,
    "status": "выдана"
  }
]
```

---

## **Тестирование**

### 1. Запуск тестов
Тесты покрывают основную функциональность приложения. Чтобы запустить тесты, выполните:
```bash
python -m unittest discover tests
```

### 2. Покрытые тесты
- Добавление книги.
- Удаление книги.
- Поиск книг по полям.
- Обновление статуса книги.
- Загрузка и сохранение данных.

---

## **Автор**
- Дмитрий Исаев  
  Контакты:  
  Telegram: https://t.me/dimais77  
  Моб. +7 (913) 214-62-21  

---

## **Лицензия**
Этот проект распространяется под лицензией MIT. Подробнее в файле [LICENSE](LICENSE).